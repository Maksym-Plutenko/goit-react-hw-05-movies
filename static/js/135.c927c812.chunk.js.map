{"version":3,"file":"static/js/135.c927c812.chunk.js","mappings":"8PACA,EAAuB,2BAAvB,EAA8D,gCAA9D,EAAuG,6BAAvG,EAA4I,4BAA5I,EAAmL,+BAAnL,EAAyN,2BAAzN,EAAiQ,iCAAjQ,EAAqT,uCAArT,EAAmW,2BAAnW,EAAqY,2B,SCwFrY,EAlFqB,WACnB,OAA8BA,EAAAA,EAAAA,UAAS,CAAC,GAAxC,eAAOC,EAAP,KAAgBC,EAAhB,KACQC,GAAYC,EAAAA,EAAAA,MAAZD,QAEFE,GAAOC,EAAAA,EAAAA,QAAO,MACdC,GAAWC,EAAAA,EAAAA,OACjBC,EAAAA,EAAAA,YAAU,WACHJ,EAAKK,UACJH,EAASI,MACXN,EAAKK,QAAUH,EAASI,MAExBN,EAAKK,QAAU,IAGpB,GAAE,CAACH,EAASI,SAEbF,EAAAA,EAAAA,YAAU,WAAM,wCACd,WAA0BG,GAA1B,uFACyBC,EAAAA,EAAAA,QAAkBD,GAD3C,OACQE,EADR,OAEEZ,EAAWY,GAFb,4CADc,uBAAC,SAAD,2BAMdC,CAAWZ,EACZ,GAAE,CAACA,IAEJ,IAAQa,EAA8Df,EAA9De,YAAaC,EAAiDhB,EAAjDgB,eAAgBC,EAAiCjB,EAAjCiB,WAAYC,EAAqBlB,EAArBkB,SAAUC,EAAWnB,EAAXmB,OAE3D,OACE,gCACE,SAAC,KAAD,CAAMC,UAAWC,EAAUC,GAAIlB,EAAKK,QAApC,sBAGA,iBAAKW,UAAWC,EAAhB,UACGN,GACC,gBACEK,UAAWC,EACXE,IAAG,yCAAoCR,GACvCS,IAAI,iBAGN,gBACED,IAAI,mGACJC,IAAI,sBAGR,4BACE,eAAIJ,UAAWC,EAAf,SAA2BL,KAC3B,eAAGI,UAAWC,EAAd,yBAAqCJ,MACrC,eAAIG,UAAWC,EAAf,uBACA,cAAGD,UAAWC,EAAd,SAAyBH,KACzB,eAAIE,UAAWC,EAAf,oBACCF,IACC,cAAGC,UAAWC,EAAd,SACGF,EAAOM,KAAI,SAACC,EAAOC,EAAOC,GAAf,OACVD,EAAQ,IAAMC,EAAMC,OAASH,EAAMI,KAAOJ,EAAMI,KAAO,IAD7C,aAOpB,iBAAKV,UAAWC,EAAhB,WACE,cAAGD,UAAWC,EAAd,qCACA,2BACE,eAAID,UAAWC,EAAf,UACE,SAAC,KAAD,CAAMD,UAAWC,EAAUC,GAAG,OAA9B,qBAIF,eAAIF,UAAWC,EAAf,UACE,SAAC,KAAD,CAAMD,UAAWC,EAAUC,GAAG,UAA9B,8BAMN,SAAC,EAAAS,SAAD,CAAUC,UAAU,sCAApB,UACE,SAAC,KAAD,QAIP,C,8DCrFKpB,EAAY,CAChBqB,IAAK,2CAECC,SAHU,WAGE,IAAD,0HACfC,EAAAA,EAAAA,SAAAA,QAAyB,gCADV,SAEQA,EAAAA,EAAAA,IAAA,6BAAgC,EAAKF,MAF7C,cAETpB,EAFS,yBAGRA,EAASuB,KAAKC,SAHN,4CAIhB,EAEKC,MATU,SASJC,GAAU,IAAD,0HACnBJ,EAAAA,EAAAA,SAAAA,QAAyB,gCADN,SAEIA,EAAAA,EAAAA,IAAA,uBAA0B,EAAKF,IAA/B,iCAA2DM,EAA3D,gCAFJ,cAEb1B,EAFa,yBAMZA,EAASuB,KAAKC,SANF,4CAOpB,EAEKrC,QAlBU,SAkBFW,GAAK,IAAD,0HAChBwB,EAAAA,EAAAA,SAAAA,QAAyB,gCADT,SAEOA,EAAAA,EAAAA,IAAA,gBAAmBxB,EAAnB,YAAyB,EAAKsB,IAA9B,oBAFP,cAEVpB,EAFU,yBAGTA,EAASuB,MAHA,4CAIjB,EAEKI,KAxBU,SAwBL7B,GAAK,IAAD,0HACbwB,EAAAA,EAAAA,SAAAA,QAAyB,gCADZ,SAEUA,EAAAA,EAAAA,IAAA,gBAAmBxB,EAAnB,oBAAiC,EAAKsB,IAAtC,oBAFV,cAEPpB,EAFO,yBAKNA,EAASuB,KAAKI,MALR,4CAMd,EAEKC,QAhCU,SAgCF9B,GAAK,IAAD,0HAChBwB,EAAAA,EAAAA,SAAAA,QAAyB,gCADT,SAEOA,EAAAA,EAAAA,IAAA,gBAAmBxB,EAAnB,oBAAiC,EAAKsB,IAAtC,oBAFP,cAEVpB,EAFU,yBAMTA,EAASuB,KAAKC,SANL,4CAOjB,GAUH,K","sources":["webpack://react-homework-template/./src/pages/MovieDetails/MovieDetails.module.css?0c24","pages/MovieDetails/MovieDetails.jsx","utilites/apiserver.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"back\":\"MovieDetails_back__Jj+0O\",\"container\":\"MovieDetails_container__Ys+c9\",\"poster\":\"MovieDetails_poster__yO7gD\",\"title\":\"MovieDetails_title__cUGs9\",\"subtitle\":\"MovieDetails_subtitle__NWwoQ\",\"info\":\"MovieDetails_info__qv2SI\",\"additional\":\"MovieDetails_additional__+f3rh\",\"additional_title\":\"MovieDetails_additional_title__nZvX4\",\"item\":\"MovieDetails_item__mbUY+\",\"link\":\"MovieDetails_link__U+v+7\"};","import { useState, useEffect, useRef, Suspense } from 'react';\nimport { useParams, useLocation, Link, Outlet } from 'react-router-dom';\n\nimport apiserver from '../../utilites/apiserver';\n\nimport css from './MovieDetails.module.css';\n\nconst MovieDetails = () => {\n  const [details, setDetails] = useState({});\n  const { movieId } = useParams();\n\n  const from = useRef(null);\n  const location = useLocation();\n  useEffect(() => {\n    if (!from.current) {\n      if (location.state) {\n        from.current = location.state;\n      } else {\n        from.current = '/';\n      }\n    }\n  }, [location.state]);\n\n  useEffect(() => {\n    async function getDetails(id) {\n      const response = await apiserver.details(id);\n      setDetails(response);\n    }\n\n    getDetails(movieId);\n  }, [movieId]);\n\n  const { poster_path, original_title, popularity, overview, genres } = details;\n\n  return (\n    <section>\n      <Link className={css.back} to={from.current}>\n        Go back\n      </Link>\n      <div className={css.container}>\n        {poster_path ? (\n          <img\n            className={css.poster}\n            src={`https://image.tmdb.org/t/p/w500${poster_path}`}\n            alt=\"film poster\"\n          />\n        ) : (\n          <img\n            src=\"https://c1.wallpaperflare.com/preview/136/62/471/page-not-found-light-shadow-hotel-thumbnail.jpg\"\n            alt=\"poster not found\"\n          />\n        )}\n        <div>\n          <h2 className={css.title}>{original_title}</h2>\n          <p className={css.info}>User Score: {popularity}</p>\n          <h3 className={css.subtitle}>Overview</h3>\n          <p className={css.info}>{overview}</p>\n          <h3 className={css.subtitle}>Genres</h3>\n          {genres && (\n            <p className={css.info}>\n              {genres.map((genre, index, array) =>\n                index + 1 === array.length ? genre.name : genre.name + ', '\n              )}\n            </p>\n          )}\n        </div>\n      </div>\n      <div className={css.additional}>\n        <p className={css.additional_title}>Additional information</p>\n        <ul>\n          <li className={css.item}>\n            <Link className={css.link} to=\"cast\">\n              Cast\n            </Link>\n          </li>\n          <li className={css.item}>\n            <Link className={css.link} to=\"reviews\">\n              Reviews\n            </Link>\n          </li>\n        </ul>\n      </div>\n      <Suspense fallback={<p>Loading...</p>}>\n        <Outlet />\n      </Suspense>\n    </section>\n  );\n};\n\nexport default MovieDetails;\n","import axios from 'axios';\n\nconst apiserver = {\n  key: 'api_key=c8502b1448a0f91350559a97552ddf48',\n\n  async trending() {\n    axios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n    const response = await axios.get(`trending/movie/day?${this.key}`);\n    return response.data.results;\n  },\n\n  async seach(request) {\n    axios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n    const response = await axios.get(`search/movie?${this.key}&language=en-US&query=${request}&page=1&include_adult=false`);\n    // console.log(response);\n    // console.log(response.data);\n    // console.log(response.data.results);\n    return response.data.results;\n  },\n\n  async details(id) {\n    axios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n    const response = await axios.get(`movie/${id}?${this.key}&language=en-US`);\n    return response.data;\n  },\n\n  async cast(id) {\n    axios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n    const response = await axios.get(`movie/${id}/credits?${this.key}&language=en-US`);\n    // console.log(response);\n    // console.log(response.data.cast);\n    return response.data.cast;\n  },\n\n  async rewiews(id) {\n    axios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n    const response = await axios.get(`movie/${id}/reviews?${this.key}&language=en-US`);\n    // console.log(response);\n    // console.log(response.data);\n    // console.log(response.data.results);\n    return response.data.results;\n  },\n\n};\n\n// https://api.themoviedb.org/3/trending/movie/day?api_key=c8502b1448a0f91350559a97552ddf48\n// https://api.themoviedb.org/3/search/movie?api_key=c8502b1448a0f91350559a97552ddf48&language=en-US&query=cat&page=1&include_adult=false\n// https://api.themoviedb.org/3/movie/11111?api_key=c8502b1448a0f91350559a97552ddf48&language=en-US\n// https://api.themoviedb.org/3/movie/11111/credits?api_key=c8502b1448a0f91350559a97552ddf48&language=en-US\n// https://api.themoviedb.org/3/movie/11111/reviews?api_key=c8502b1448a0f91350559a97552ddf48&language=en-US&page=1\n\nexport default apiserver;"],"names":["useState","details","setDetails","movieId","useParams","from","useRef","location","useLocation","useEffect","current","state","id","apiserver","response","getDetails","poster_path","original_title","popularity","overview","genres","className","css","to","src","alt","map","genre","index","array","length","name","Suspense","fallback","key","trending","axios","data","results","seach","request","cast","rewiews"],"sourceRoot":""}