{"version":3,"file":"static/js/881.c9022648.chunk.js","mappings":"2LACA,EAAuB,uBAAvB,EAAqD,uB,SCsBrD,EAlBiB,SAAC,GAAe,IAAbA,EAAY,EAAZA,MACZC,GAAWC,EAAAA,EAAAA,MAEjB,OACE,wBACGF,EAAMG,KAAI,SAAAC,GAAI,OACb,eAAIC,UAAWC,EAAf,UACE,SAAC,KAAD,CAASD,UAAWC,EAAUC,GAAE,kBAAaH,EAAKI,IAAMC,MAAOR,EAA/D,SAA0EG,EAAKM,SADnDN,EAAKI,GADtB,KAOpB,C,8IChBD,EAA4B,0BAA5B,EAA6D,qBAA7D,EAA0F,sBAA1F,EAAyH,uBAAzH,EAAyJ,uB,SCqEzJ,EA7De,WACb,OAA8BG,EAAAA,EAAAA,UAAS,IAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KACA,GAA0BF,EAAAA,EAAAA,UAAS,IAAnC,eAAOX,EAAP,KAAcc,EAAd,KACA,GAAoCC,EAAAA,EAAAA,IAAgB,CAAC,GAArD,eAAOC,EAAP,KAAmBC,EAAnB,KACMC,EAAeF,EAAWG,IAAI,WAEhCC,EAAU,GACVF,IACFE,EAAU,4CAGZC,EAAAA,EAAAA,YAAU,WAAM,wCACd,WAAyBT,GAAzB,uFACyBU,EAAAA,EAAAA,MAAgBV,GADzC,OACQW,EADR,OAEET,EAASS,GAFX,2CADc,wBAMVL,GANW,SAAD,2BAOZM,CAAUN,EAEb,GAAE,CAACA,IAkBJ,OACE,iBAAKb,UAAWC,EAAhB,WACE,kBAAMD,UAAWC,EAAUmB,SAdd,SAAAC,GAMfA,EAAIC,iBAEJV,EAAc,CAAEL,QAAAA,IAChBC,EAAW,GACZ,EAIG,WACE,kBACER,UAAWC,EACXsB,KAAK,OACLC,SAtBS,SAAAH,GACfb,EAAWa,EAAII,cAAcC,MAC9B,EAqBOA,MAAOnB,KAET,mBAAQP,UAAWC,EAAYsB,KAAK,SAApC,sBAKD5B,EAAMgC,OAAS,GACd,SAACC,EAAA,EAAD,CAAUjC,MAAOA,KAEjB,cAAGK,UAAWC,EAAd,SAA2Bc,MAIlC,C,8DClEKE,EAAY,CAChBY,IAAK,2CAECC,SAHU,WAGE,IAAD,0HACfC,EAAAA,EAAAA,SAAAA,QAAyB,gCADV,SAEQA,EAAAA,EAAAA,IAAA,6BAAgC,EAAKF,MAF7C,cAETX,EAFS,yBAGRA,EAASc,KAAKC,SAHN,4CAIhB,EAEKC,MATU,SASJ3B,GAAU,IAAD,0HACnBwB,EAAAA,EAAAA,SAAAA,QAAyB,gCADN,SAEIA,EAAAA,EAAAA,IAAA,uBAA0B,EAAKF,IAA/B,iCAA2DtB,EAA3D,gCAFJ,cAEbW,EAFa,yBAMZA,EAASc,KAAKC,SANF,4CAOpB,EAEKE,QAlBU,SAkBFhC,GAAK,IAAD,0HAChB4B,EAAAA,EAAAA,SAAAA,QAAyB,gCADT,SAEOA,EAAAA,EAAAA,IAAA,gBAAmB5B,EAAnB,YAAyB,EAAK0B,IAA9B,oBAFP,cAEVX,EAFU,yBAGTA,EAASc,MAHA,4CAIjB,EAEKI,KAxBU,SAwBLjC,GAAK,IAAD,0HACb4B,EAAAA,EAAAA,SAAAA,QAAyB,gCADZ,SAEUA,EAAAA,EAAAA,IAAA,gBAAmB5B,EAAnB,oBAAiC,EAAK0B,IAAtC,oBAFV,cAEPX,EAFO,yBAKNA,EAASc,KAAKI,MALR,4CAMd,EAEKC,QAhCU,SAgCFlC,GAAK,IAAD,0HAChB4B,EAAAA,EAAAA,SAAAA,QAAyB,gCADT,SAEOA,EAAAA,EAAAA,IAAA,gBAAmB5B,EAAnB,oBAAiC,EAAK0B,IAAtC,oBAFP,cAEVX,EAFU,yBAMTA,EAASc,KAAKC,SANL,4CAOjB,GAUH,K","sources":["webpack://react-homework-template/./src/components/Filmlist/Filmlist.module.css?a4f9","components/Filmlist/Filmlist.jsx","webpack://react-homework-template/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.jsx","utilites/apiserver.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"item\":\"Filmlist_item__3C2Gx\",\"link\":\"Filmlist_link__XeSBt\"};","import PropTypes from 'prop-types';\nimport { NavLink, useLocation } from 'react-router-dom';\n\nimport css from './Filmlist.module.css';\n\nconst Filmlist = ({ films }) => {\n  const location = useLocation();\n\n  return (\n    <ul>\n      {films.map(film => (\n        <li className={css.item} key={film.id}>\n          <NavLink className={css.link} to={`/movies/${film.id}`} state={location}>{film.title}</NavLink>\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nFilmlist.propTypes = {\n    films: PropTypes.arrayOf(PropTypes.object).isRequired,\n}\n\nexport default Filmlist;\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Movies_container__+-Cnt\",\"form\":\"Movies_form__4ow+Z\",\"input\":\"Movies_input__KrUqs\",\"button\":\"Movies_button__GcIka\",\"nofilm\":\"Movies_nofilm__34OEV\"};","// import PropTypes from 'prop-types';\nimport { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nimport apiserver from '../../utilites/apiserver';\nimport Filmlist from '../../components/Filmlist/Filmlist';\n\nimport css from './Movies.module.css';\n\nconst Movies = () => {\n  const [request, setRequest] = useState('');\n  const [films, setFilms] = useState([]);\n  const [seachParam, setSeachParam] = useSearchParams({});\n  const seachRequest = seachParam.get('request');\n\n  let message = '';\n  if (seachRequest) {\n    message = 'We cannot find any film with such name.';\n  }\n\n  useEffect(() => {\n    async function filmSeach(request) {\n      const response = await apiserver.seach(request);\n      setFilms(response);\n    }\n\n    if (seachRequest) {\n      filmSeach(seachRequest);\n    }\n  }, [seachRequest]);\n\n  const onChange = evt => {\n    setRequest(evt.currentTarget.value);\n  };\n\n  const onSubmit = evt => {\n    // async function filmSeach(request) {\n    //   const response = await apiserver.seach(request);\n    //   setFilms(response);\n    // }\n\n    evt.preventDefault();\n    // filmSeach(request);\n    setSeachParam({ request });\n    setRequest('');\n  };\n\n  return (\n    <div className={css.container}>\n      <form className={css.form} onSubmit={onSubmit}>\n        <input\n          className={css.input}\n          type=\"text\"\n          onChange={onChange}\n          value={request}\n        />\n        <button className={css.button} type=\"submit\">\n          Seach\n        </button>\n      </form>\n\n      {films.length > 0 ? (\n        <Filmlist films={films} />\n      ) : (\n        <p className={css.nofilm}>{message}</p>\n      )}\n    </div>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\n\nconst apiserver = {\n  key: 'api_key=c8502b1448a0f91350559a97552ddf48',\n\n  async trending() {\n    axios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n    const response = await axios.get(`trending/movie/day?${this.key}`);\n    return response.data.results;\n  },\n\n  async seach(request) {\n    axios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n    const response = await axios.get(`search/movie?${this.key}&language=en-US&query=${request}&page=1&include_adult=false`);\n    // console.log(response);\n    // console.log(response.data);\n    // console.log(response.data.results);\n    return response.data.results;\n  },\n\n  async details(id) {\n    axios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n    const response = await axios.get(`movie/${id}?${this.key}&language=en-US`);\n    return response.data;\n  },\n\n  async cast(id) {\n    axios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n    const response = await axios.get(`movie/${id}/credits?${this.key}&language=en-US`);\n    // console.log(response);\n    // console.log(response.data.cast);\n    return response.data.cast;\n  },\n\n  async rewiews(id) {\n    axios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n    const response = await axios.get(`movie/${id}/reviews?${this.key}&language=en-US`);\n    // console.log(response);\n    // console.log(response.data);\n    // console.log(response.data.results);\n    return response.data.results;\n  },\n\n};\n\n// https://api.themoviedb.org/3/trending/movie/day?api_key=c8502b1448a0f91350559a97552ddf48\n// https://api.themoviedb.org/3/search/movie?api_key=c8502b1448a0f91350559a97552ddf48&language=en-US&query=cat&page=1&include_adult=false\n// https://api.themoviedb.org/3/movie/11111?api_key=c8502b1448a0f91350559a97552ddf48&language=en-US\n// https://api.themoviedb.org/3/movie/11111/credits?api_key=c8502b1448a0f91350559a97552ddf48&language=en-US\n// https://api.themoviedb.org/3/movie/11111/reviews?api_key=c8502b1448a0f91350559a97552ddf48&language=en-US&page=1\n\nexport default apiserver;"],"names":["films","location","useLocation","map","film","className","css","to","id","state","title","useState","request","setRequest","setFilms","useSearchParams","seachParam","setSeachParam","seachRequest","get","message","useEffect","apiserver","response","filmSeach","onSubmit","evt","preventDefault","type","onChange","currentTarget","value","length","Filmlist","key","trending","axios","data","results","seach","details","cast","rewiews"],"sourceRoot":""}